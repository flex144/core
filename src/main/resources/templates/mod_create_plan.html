<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Planvorlage erstellen</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <div th:include="/fragments/navbar :: navbar_style"></div>
</head>

<body>
<div th:replace="/fragments/navbar :: navbar_mod"></div>

<div class="container">
    <div class="jumbotron">
        <h2>Erstelle eine neue Trainingsplanvorlage</h2>
        &ensp;
        <p style="font-size: 12pt">Fülle das folgende Formular aus und speichere anschließend deine erstellte Vorlage
        für individuelle Trainingspläne.</p>
        <div>
            <p style="font-size: 12pt">Um Übungen zu deinem Plan hinzuzufügen, fülle das folgende Formular aus und klicke auf
                den blauen Button. Falls du eine noch nicht vorhandene Übung in deinem Plan verwenden willst,
                drücke den grünen Button um eine neue zu erstellen.</p>
        </div>
        <br><br>
        <div class="row" style="border-color: #2E2E2E">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="planName">Planbezeichnung:</label>
                    <input  type="text" class="form-control" id="planName"
                            placeholder="Hier Bezeichnung eingeben...">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group-inline">
                    <label for="focus">Trainingsfokus:</label>
                    <select id="focus" class="form-control" required>
                        <option selected disabled hidden>Wähle eine Option aus...</option>
                        <option>Muskelaufbau</option>
                        <option>Ausdauer</option>
                        <option>Schmerzreduktion</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="inputUnit">Trainingseinheiten: </label>
                    <button type="button" class="btn increment-button" onclick="increment()">
                        <span class="glyphicon glyphicon-plus"></span>
                    </button>
                    <input type="text" name="trainingUnits" id="inputUnit" value="6"
                           style="width: 30px; border: 3px solid darkgray; text-align: center;
                   font-weight: bold">
                    <button type="button" class="btn decrement-button" onclick="decrement()">
                        <span class="glyphicon glyphicon-minus"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Verkleinern und zentrieren: <div class="col-md-1"></div>-->
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
                <div class="col-md-8">
                    Übung bearbeiten
                </div>
                <div class="col-md-2">
                    <button type="button" class="btn btn-primary btn-block">
                        <span class="glyphicon glyphicon-plus-sign"></span>
                        Übung hinzufügen
                    </button>
                </div>
                <div class="col-md-2">
                    <button type="button" data-toggle="modal"
                            class="btn btn-success btn-block launch-modal">
                        <span class="glyphicon glyphicon-plus-sign"></span>
                        Neue Übung
                    </button>
                </div>
            </div>
        </div>
        <div class="panel-body">
            <div class="col-md-12">
                <table class="table table-bordered table-condensed" border="1" width="100%">
                    <colgroup>
                        <col width="5%">
                        <col width="10%">
                        <col width="30%">
                        <col width="35%">
                        <col width="5%">
                        <col width="5%">
                    </colgroup>
                    <thead>
                    <tr>
                        <th>Ordnung</th>
                        <th>Übung</th>
                        <th>Ausführung</th>
                        <th>Last/Wiederholungen/Sätze</th>
                        <th>Tempo</th>
                        <th>Pause</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td><input type="text" class="form-control" /></td>
                        <td>
                            <input type="text" name="exercise" list="stored_exercises">
                            <datalist id="stored_exercises">
                                <option value="Liegestütze" />
                                <option value="Klimmzüge" />
                                <option value="Leg-Press" />
                                <option value="Bench-Press" />
                                <option value="Front-Curl" />
                                <option value="Back-Curl" />
                                <option value="Squad" />
                            </datalist>
                            </input>
                        </td>
                        <td>
                            <textarea id="description" class="form-control" rows="4"></textarea>
                        </td>
                        <td>
                            <table class="table table-bordered table-condensed">
                                <tbody>
                                <tr>
                                    <td><input type="text" class="form-control" /></td>
                                </tr>
                                <tr>
                                    <td><input type="text" class="form-control" /></td>
                                </tr>
                                <tr>
                                    <td><input type="text" class="form-control" /></td>
                                </tr>
                                <tr>
                                    <td><input type="text" class="form-control" /></td>
                                </tr>
                                <tr>
                                    <td><input type="text" class="form-control" /></td>
                                </tr>
                                <tr>
                                    <td><input type="text" class="form-control" /></td>
                                </tr>
                                <tr>
                                    <td>
                                        <button type="button" class="btn btn-default">
                                            <span class="glyphicon glyphicon-plus-sign"></span> Neuer Satz</button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </td>
                        <td>
                            <table class="table table-bordered table-condensed">
                                <tbody>
                                <tr>
                                    <td><input type="text" class="form-control" /></td>
                                </tr>
                                </tbody>
                            </table>
                        </td>
                        <td>
                            <table class="table table-bordered table-condensed">
                                <tbody>
                                <tr>
                                    <td><input type="text" class="form-control" /></td>
                                </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="panel panel-success">
        <div class="panel-heading">Aktueller Trainingsplan</div>
        <div class="panel-body">
            <!-- Liste mit hinzugefügten übungen hier einfügen -->

            <div class="row">
                <div class="col-md-10"></div>
                <div class="col-md-2">
                    <button type="button" class="btn btn-success btn-block">
                        <span class="glyphicon glyphicon-floppy-save"></span>
                         Plan speichern
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal with formular to create a new exercise -->
<div id="modal_formular" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Neue Trainingsübung erstellen</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="exerciseName">Name der Übung:</label>
                            <input  type="text" class="form-control" id="exerciseName"
                                    placeholder="Hier die Übungsbezeichnung eingeben...">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="exercise_description">Beschreibung der Übung:</label>
                                <textarea id="exercise_description" class="form-control" rows="6"></textarea>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="muscleImageInput">Muskelgruppen-Bild:</label>
                                <input  type="image" class="form-control" id="muscleImageInput"
                                        placeholder="Hier Bild mit Muskelgruppen einfügen...">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="weightType">Gewichtsart auswählen</label>
                            <select id="weightType" class="form-control">
                                <option selected disabled hidden>Wähle eine Option aus...</option>
                                <option>Eigengewicht</option>
                                <option>Befestigtes Gewicht</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="videoLink1">Erklärungsvideos: (Optional)</label>
                            <input  type="url" class="form-control" id="videoLink1"
                                    placeholder="Hier Link zu einem Erklärungsvideo einfügen...">
                            <!--
                            <input  type="url" class="form-control" id="videoLink2"
                                    placeholder="Hier Link zu einem weiteren Erklärungsvideo einfügen...">
                            <input  type="url" class="form-control" id="videoLink3"
                                    placeholder="Hier Link zu einem weiteren Erklärungsvideo einfügen...">
                            -->
                            <button type="button" class="btn btn-default">
                                <span class="glyphicon glyphicon-plus-sign"></span> Zusätzlicher Link</button>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="imageInput">Zusätzliche Bilder hochladen (Optional)</label>
                            <input  type="image" class="form-control" id="imageInput"
                                    placeholder="Hier Bild zur Übung einfügen...">
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Schließen</button>
                <button type="button" class="btn btn-primary">Speichern</button>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function(){
        $('.launch-modal').click(function(){
            $('#modal_formular').modal({
                backdrop: 'static'
            });
        });
    });

    function increment() {
        var oldValue = document.getElementById("inputUnit").value;
        if (oldValue < 15) {
            var newValue = parseFloat(oldValue) + 1;
        } else {
            alert("Ein Trainingsplan kann nicht aus mehr als 15 Trainingseinheiten bestehen");
            var newValue = 15;
        }
        document.getElementById("inputUnit").value = newValue;
    }
    function decrement() {
        var oldValue = document.getElementById("inputUnit").value;
        var newValue;
        if (oldValue > 3) {
            newValue = parseFloat(oldValue) - 1;
        } else {
            alert("Ein Trainingsplan kann nicht aus weniger als 3 Trainingseinheiten bestehen");
            newValue = 3;
        }
        document.getElementById("inputUnit").value = newValue;
    }
</script>
</body>
</html>